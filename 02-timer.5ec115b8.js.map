{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAIMC,EAAOC,SAASC,cAAc,oBAC9BC,EAAMF,SAASC,cAAc,gBAC7BE,EAAMH,SAASC,cAAc,eAC7BG,EAAOJ,SAASC,cAAc,gBAC9BI,EAAML,SAASC,cAAc,kBAC7BK,EAAMN,SAASC,cAAc,kBAC7BM,EAAQP,SAASQ,iBAAiB,UAEpCC,EAAU,KAgEd,SAASC,EAAeC,GACtB,MAAO,GAASC,OAAND,GAAQE,SAAS,EAAG,I,CA/DhCX,EAAIY,UAAW,GAEf,EAAAjB,EAAAkB,SAAUhB,EAAM,CACdiB,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAA,SAAQC,GACFA,EAAc,IAAMH,KAAKI,OAC3BC,EAAAC,GAASC,OAAOC,QAAQ,sCACxBzB,EAAIY,UAAW,IAEfZ,EAAIY,UAAW,EAEfU,EAAAC,GAASC,OAAOE,QAAQ,Y,IAK9B1B,EAAI2B,iBAAiB,SAErB,WACEtB,EAAMuB,SAAQ,SAAAC,G,OAAQA,EAAKC,UAAUC,OAAO,M,IAC5C/B,EAAIY,UAAW,EACff,EAAKe,UAAW,EAChBL,EAAUyB,aAAY,WACpB,IACMC,EADc,IAAIhB,KAAKpB,EAAKY,OACCQ,KAAKI,MACEa,EAe9C,SAAmBC,GAEjB,IAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAGNE,EAAOC,KAAKC,MAAMP,EAAKI,GAEvBI,EAAQF,KAAKC,MAAMP,EAAMI,EAAOD,GAEhCM,EAAUH,KAAKC,MAAMP,EAAOI,EAAOD,EAAQD,GAE3CQ,EAAUJ,KAAKC,MAAMP,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,CAAEI,OAAMG,QAAOC,UAASC,U,CA/BaC,CAAUb,GAA5CO,EAAkCN,EAAlCM,KAAMG,EAA4BT,EAA5BS,MAAOC,EAAqBV,EAArBU,QAASC,EAAYX,EAAZW,QAE9B5C,EAAI8C,YAAcvC,EAAegC,GACjCtC,EAAK6C,YAAcvC,EAAemC,GAClCxC,EAAI4C,YAAcvC,EAAeoC,GACjCxC,EAAI2C,YAAcvC,EAAeqC,GAE7BZ,EAAe,MACjB5B,EAAMuB,SAAQ,SAAAC,G,OAAQA,EAAKC,UAAUC,OAAO,M,IAC5CiB,cAAczC,GACdV,EAAKe,UAAW,E,GAEjB,I","sources":["src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport Notiflix from 'notiflix';\n\nconst date = document.querySelector('#datetime-picker');\nconst btn = document.querySelector('[data-start]');\nconst day = document.querySelector('[data-days]');\nconst hour = document.querySelector('[data-hours]');\nconst min = document.querySelector('[data-minutes]');\nconst sec = document.querySelector('[data-seconds]');\nconst spans = document.querySelectorAll('.value');\n\nlet timerId = null;\n\nbtn.disabled = true;\n\nflatpickr(date, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= Date.now()) {\n      Notiflix.Notify.failure('Please choose a date in the future');\n      btn.disabled = true;\n    } else {\n      btn.disabled = false;\n\n      Notiflix.Notify.success('Lets go?');\n    }\n  },\n});\n\nbtn.addEventListener('click', onBtnStartClick);\n\nfunction onBtnStartClick() {\n  spans.forEach(item => item.classList.toggle('end'));\n  btn.disabled = true;\n  date.disabled = true;\n  timerId = setInterval(() => {\n    const choosenDate = new Date(date.value);\n    const timeToFinish = choosenDate - Date.now();\n    const { days, hours, minutes, seconds } = convertMs(timeToFinish);\n\n    day.textContent = addLeadingZero(days);\n    hour.textContent = addLeadingZero(hours);\n    min.textContent = addLeadingZero(minutes);\n    sec.textContent = addLeadingZero(seconds);\n\n    if (timeToFinish < 1000) {\n      spans.forEach(item => item.classList.toggle('end'));\n      clearInterval(timerId);\n      date.disabled = false;\n    }\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return `${value}`.padStart(2, '0');\n}\n"],"names":["$dbdyf","parcelRequire","$84b9dae4df53835d$var$date","document","querySelector","$84b9dae4df53835d$var$btn","$84b9dae4df53835d$var$day","$84b9dae4df53835d$var$hour","$84b9dae4df53835d$var$min","$84b9dae4df53835d$var$sec","$84b9dae4df53835d$var$spans","querySelectorAll","$84b9dae4df53835d$var$timerId","$84b9dae4df53835d$var$addLeadingZero","value","concat","padStart","disabled","default","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","$parcel$interopDefault","$ejkSG","Notify","failure","success","addEventListener","forEach","item","classList","toggle","setInterval","timeToFinish","ref","ms","second","minute","hour1","day1","days","Math","floor","hours","minutes","seconds","$84b9dae4df53835d$var$convertMs","textContent","clearInterval"],"version":3,"file":"02-timer.5ec115b8.js.map"}