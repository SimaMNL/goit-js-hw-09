{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAOC,SAASC,cAAc,oBAC9BC,EAAMF,SAASC,cAAc,gBAC7BE,EAAMH,SAASC,cAAc,eAC7BG,EAAOJ,SAASC,cAAc,gBAC9BI,EAAML,SAASC,cAAc,kBAC7BK,EAAMN,SAASC,cAAc,kBAC7BM,EAAQP,SAASQ,iBAAiB,UAExC,IAAIC,EAAU,KAgEd,SAASC,EAAeC,GACtB,MAAO,GAAGA,IAAQC,SAAS,EAAG,I,CA/DhCV,EAAIW,UAAW,GAEf,EAAAhB,EAAAiB,SAAUf,EAAM,CACdgB,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACFA,EAAc,IAAMH,KAAKI,OAC3BC,EAAAC,GAASC,OAAOC,QAAQ,sCACxBxB,EAAIW,UAAW,IAEfX,EAAIW,UAAW,EAEfU,EAAAC,GAASC,OAAOE,QAAQ,Y,IAK9BzB,EAAI0B,iBAAiB,SAErB,WACErB,EAAMsB,SAAQC,GAAQA,EAAKC,UAAUC,OAAO,SAC5C9B,EAAIW,UAAW,EACfd,EAAKc,UAAW,EAChBJ,EAAUwB,aAAY,KACpB,MACMC,EADc,IAAIhB,KAAKnB,EAAKY,OACCO,KAAKI,OAClCa,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,GAelC,SAAmBC,GAEjB,MAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAGNP,EAAOS,KAAKC,MAAMN,EAAKI,GAEvBP,EAAQQ,KAAKC,MAAMN,EAAMI,EAAOD,GAEhCL,EAAUO,KAAKC,MAAMN,EAAOI,EAAOD,EAAQD,GAE3CH,EAAUM,KAAKC,MAAMN,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,C,KAAEL,E,MAAMC,E,QAAOC,E,QAASC,E,CA/BaQ,CAAUZ,GAEpD/B,EAAI4C,YAAcrC,EAAeyB,GACjC/B,EAAK2C,YAAcrC,EAAe0B,GAClC/B,EAAI0C,YAAcrC,EAAe2B,GACjC/B,EAAIyC,YAAcrC,EAAe4B,GAE7BJ,EAAe,MACjB3B,EAAMsB,SAAQC,GAAQA,EAAKC,UAAUC,OAAO,SAC5CgB,cAAcvC,GACdV,EAAKc,UAAW,E,GAEjB,I","sources":["src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport Notiflix from 'notiflix';\n\nconst date = document.querySelector('#datetime-picker');\nconst btn = document.querySelector('[data-start]');\nconst day = document.querySelector('[data-days]');\nconst hour = document.querySelector('[data-hours]');\nconst min = document.querySelector('[data-minutes]');\nconst sec = document.querySelector('[data-seconds]');\nconst spans = document.querySelectorAll('.value');\n\nlet timerId = null;\n\nbtn.disabled = true;\n\nflatpickr(date, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= Date.now()) {\n      Notiflix.Notify.failure('Please choose a date in the future');\n      btn.disabled = true;\n    } else {\n      btn.disabled = false;\n\n      Notiflix.Notify.success('Lets go?');\n    }\n  },\n});\n\nbtn.addEventListener('click', onBtnStartClick);\n\nfunction onBtnStartClick() {\n  spans.forEach(item => item.classList.toggle('end'));\n  btn.disabled = true;\n  date.disabled = true;\n  timerId = setInterval(() => {\n    const choosenDate = new Date(date.value);\n    const timeToFinish = choosenDate - Date.now();\n    const { days, hours, minutes, seconds } = convertMs(timeToFinish);\n\n    day.textContent = addLeadingZero(days);\n    hour.textContent = addLeadingZero(hours);\n    min.textContent = addLeadingZero(minutes);\n    sec.textContent = addLeadingZero(seconds);\n\n    if (timeToFinish < 1000) {\n      spans.forEach(item => item.classList.toggle('end'));\n      clearInterval(timerId);\n      date.disabled = false;\n    }\n  }, 1000);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return `${value}`.padStart(2, '0');\n}\n"],"names":["$fbklV","parcelRequire","$40d383fb392a7037$var$date","document","querySelector","$40d383fb392a7037$var$btn","$40d383fb392a7037$var$day","$40d383fb392a7037$var$hour","$40d383fb392a7037$var$min","$40d383fb392a7037$var$sec","$40d383fb392a7037$var$spans","querySelectorAll","$40d383fb392a7037$var$timerId","$40d383fb392a7037$var$addLeadingZero","value","padStart","disabled","default","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","$parcel$interopDefault","$1GAPJ","Notify","failure","success","addEventListener","forEach","item","classList","toggle","setInterval","timeToFinish","days","hours","minutes","seconds","ms","second","minute","hour1","day1","Math","floor","$40d383fb392a7037$var$convertMs","textContent","clearInterval"],"version":3,"file":"02-timer.fefea0e0.js.map"}